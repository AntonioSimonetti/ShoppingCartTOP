{"ast":null,"code":"import _regeneratorRuntime from\"/home/antonio/ShoppingCartTOP/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/antonio/ShoppingCartTOP/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/antonio/ShoppingCartTOP/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import githubLogo from\"./images/gitHubLogo.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Shop(props){useEffect(function(){fetchItems();},[]);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var fetchItems=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,items;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://fakestoreapi.com/products/category/electronics\");case 2:data=_context.sent;_context.next=5;return data.json();case 5:items=_context.sent;setProducts(items);console.log(items);case 8:case\"end\":return _context.stop();}},_callee);}));return function fetchItems(){return _ref.apply(this,arguments);};}();var truncateTitle=function truncateTitle(title){var maxLength=20;if(title.length>maxLength){return title.slice(0,maxLength)+\"...\";}else{return title;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"shop\",\"data-testid\":\"shop\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"itemList\",children:products.map(function(items,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",\"data-testid\":\"shop-product-\".concat(index),children:[/*#__PURE__*/_jsx(Link,{to:\"/shop/\".concat(items.id),children:/*#__PURE__*/_jsx(\"h1\",{className:\"cardTitle\",children:truncateTitle(items.title)})}),/*#__PURE__*/_jsx(\"div\",{className:\"imageDiv\",children:/*#__PURE__*/_jsx(\"img\",{className:\"cardImg\",src:items.image,alt:\"\".concat(items.title)})}),/*#__PURE__*/_jsxs(\"h2\",{className:\"cardPrice\",children:[items.price,\"$\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"shopButton\",onClick:function onClick(){return props.handleAddToCart(items);},\"data-testid\":\"shop-button-product-\".concat(index),children:\"Add to Cart\"})]},items.id);})}),props.showMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"messageBox\",children:\"Item added to cart!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"footerHomepage\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Created by: Totino\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://github.com/AntonioSimonetti\",children:/*#__PURE__*/_jsx(\"img\",{src:githubLogo,alt:\"GitHub logo\",className:\"githubLogo\"})})]})]});}export default Shop;","map":{"version":3,"names":["React","useState","useEffect","Link","githubLogo","jsx","_jsx","jsxs","_jsxs","Shop","props","fetchItems","_useState","_useState2","_slicedToArray","products","setProducts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","items","wrap","_callee$","_context","prev","next","fetch","sent","json","console","log","stop","apply","arguments","truncateTitle","title","maxLength","length","slice","className","children","map","index","concat","to","id","src","image","alt","price","onClick","handleAddToCart","showMessage","href"],"sources":["/home/antonio/ShoppingCartTOP/src/components/shop.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport githubLogo from \"./images/gitHubLogo.svg\";\n\nfunction Shop(props) {\n  useEffect(() => {\n    fetchItems();\n  }, []);\n\n  const [products, setProducts] = useState([]);\n\n  const fetchItems = async () => {\n    const data = await fetch(\n      \"https://fakestoreapi.com/products/category/electronics\"\n    );\n    const items = await data.json();\n    setProducts(items);\n    console.log(items);\n  };\n\n  const truncateTitle = (title) => {\n    const maxLength = 20;\n    if (title.length > maxLength) {\n      return title.slice(0, maxLength) + \"...\";\n    } else {\n      return title;\n    }\n  };\n\n  return (\n    <div className=\"shop\" data-testid=\"shop\">\n      <div className=\"itemList\">\n        {products.map((items, index) => (\n          <div\n            key={items.id}\n            className=\"card\"\n            data-testid={`shop-product-${index}`}\n          >\n            <Link to={`/shop/${items.id}`}>\n              <h1 className=\"cardTitle\">{truncateTitle(items.title)}</h1>\n            </Link>\n            <div className=\"imageDiv\">\n              <img\n                className=\"cardImg\"\n                src={items.image}\n                alt={`${items.title}`}\n              />\n            </div>\n            <h2 className=\"cardPrice\">{items.price}$</h2>\n            <button\n              className=\"shopButton\"\n              onClick={() => props.handleAddToCart(items)}\n              data-testid={`shop-button-product-${index}`}\n            >\n              Add to Cart\n            </button>\n          </div>\n        ))}\n      </div>\n      {props.showMessage && (\n        <div className=\"messageBox\">Item added to cart!</div>\n      )}\n      <div className=\"footerHomepage\">\n        <p>Created by: Totino</p>\n        <a href=\"https://github.com/AntonioSimonetti\">\n          <img src={githubLogo} alt=\"GitHub logo\" className=\"githubLogo\" />\n        </a>\n      </div>\n    </div>\n  );\n}\n\nexport default Shop;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}